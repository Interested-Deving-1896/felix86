%ifdef CONFIG
{
  "HostFeatures": ["AVX"],
  "RegData": {
    "XMM2": ["0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE", "0x0000000000000000", "0x0000000000000000"],
    "XMM3": ["0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE", "0x0000000000000000", "0x0000000000000000"],
    "XMM4": ["0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE", "0x0000000000000000", "0x0000000000000000"],
    "XMM5": ["0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE", "0x0000000000000000", "0x0000000000000000"],
    "XMM6": ["0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA", "0x0000000000000000", "0x0000000000000000"],
    "XMM7": ["0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA", "0x0000000000000000", "0x0000000000000000"],
    "XMM8": ["0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA", "0x0000000000000000", "0x0000000000000000"],
    "XMM9": ["0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA", "0x0000000000000000", "0x0000000000000000"],
    "XMM10": ["0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD", "0x0000000000000000", "0x0000000000000000"],
    "XMM11": ["0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD", "0x0000000000000000", "0x0000000000000000"],
    "XMM12": ["0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD", "0x0000000000000000", "0x0000000000000000"],
    "XMM13": ["0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD", "0x0000000000000000", "0x0000000000000000"],
    "XMM14": ["0xCCCCCCCCCCCCCCCC", "0x9999999999999999", "0x0000000000000000", "0x0000000000000000"],
    "XMM15": ["0xCCCCCCCCCCCCCCCC", "0x9999999999999999", "0x0000000000000000", "0x0000000000000000"],
    "XMM1": ["0xCCCCCCCCCCCCCCCC", "0x9999999999999999", "0x0000000000000000", "0x0000000000000000"],
    "XMM0": ["0xCCCCCCCCCCCCCCCC", "0x9999999999999999", "0x0000000000000000", "0x0000000000000000"]
  },
  "MemoryRegions": {
    "0x100000000": "4096"
  }
}
%endif
bits 64

lea rdx, [rel .data]

vmovapd ymm0, [rdx]
vmovapd ymm1, [rdx + 32]

vperm2f128 ymm2, ymm0, ymm1, 0b10000000
vperm2f128 ymm3, ymm0, ymm1, 0b10010000
vperm2f128 ymm4, ymm0, ymm1, 0b10100000
vperm2f128 ymm5, ymm0, ymm1, 0b10110000
vperm2f128 ymm6, ymm0, ymm1, 0b10000001
vperm2f128 ymm7, ymm0, ymm1, 0b10010001
vperm2f128 ymm8, ymm0, ymm1, 0b10100001
vperm2f128 ymm9, ymm0, ymm1, 0b10110001
vperm2f128 ymm10, ymm0, ymm1, 0b10000010
vperm2f128 ymm11, ymm0, ymm1, 0b10010010
vperm2f128 ymm12, ymm0, ymm1, 0b10100010
vperm2f128 ymm13, ymm0, ymm1, 0b10110010
vperm2f128 ymm14, ymm0, ymm1, 0b10000011
vperm2f128 ymm15, ymm0, ymm1, 0b10010011
vperm2f128 ymm1, ymm0, ymm1, 0b10100011
vperm2f128 ymm0, ymm0, [rdx + 32], 0b10110011


hlt

align 32
.data:
dq 0x3FF0000000000000
dq 0xEEEEEEEEEEEEEEEE
dq 0xFFFFFFFFFFFFFFFF
dq 0xAAAAAAAAAAAAAAAA

dq 0xBBBBBBBBBBBBBBBB
dq 0xDDDDDDDDDDDDDDDD
dq 0xCCCCCCCCCCCCCCCC
dq 0x9999999999999999
