%ifdef CONFIG
{
  "HostFeatures": ["AVX"],
  "RegData": {
    "XMM2": ["0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE", "0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE"],
    "XMM3": ["0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE", "0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA"],
    "XMM4": ["0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE", "0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD"],
    "XMM5": ["0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE", "0xCCCCCCCCCCCCCCCC", "0x9999999999999999"],
    "XMM6": ["0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA", "0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE"],
    "XMM7": ["0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA", "0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA"],
    "XMM8": ["0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA", "0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD"],
    "XMM9": ["0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA", "0xCCCCCCCCCCCCCCCC", "0x9999999999999999"],
    "XMM10": ["0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD", "0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE"],
    "XMM11": ["0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD", "0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA"],
    "XMM12": ["0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD", "0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD"],
    "XMM13": ["0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD", "0xCCCCCCCCCCCCCCCC", "0x9999999999999999"],
    "XMM14": ["0xCCCCCCCCCCCCCCCC", "0x9999999999999999", "0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE"],
    "XMM15": ["0xCCCCCCCCCCCCCCCC", "0x9999999999999999", "0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA"],
    "XMM1": ["0xCCCCCCCCCCCCCCCC", "0x9999999999999999", "0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD"],
    "XMM0": ["0xCCCCCCCCCCCCCCCC", "0x9999999999999999", "0xCCCCCCCCCCCCCCCC", "0x9999999999999999"]
  },
  "MemoryRegions": {
    "0x100000000": "4096"
  }
}
%endif
bits 64

lea rdx, [rel .data]

vmovapd ymm0, [rdx]
vmovapd ymm1, [rdx + 32]

vperm2f128 ymm2, ymm0, ymm1, 0b00000000
vperm2f128 ymm3, ymm0, ymm1, 0b00010000
vperm2f128 ymm4, ymm0, ymm1, 0b00100000
vperm2f128 ymm5, ymm0, ymm1, 0b00110000
vperm2f128 ymm6, ymm0, ymm1, 0b00000001
vperm2f128 ymm7, ymm0, ymm1, 0b00010001
vperm2f128 ymm8, ymm0, ymm1, 0b00100001
vperm2f128 ymm9, ymm0, ymm1, 0b00110001
vperm2f128 ymm10, ymm0, ymm1, 0b00000010
vperm2f128 ymm11, ymm0, ymm1, 0b00010010
vperm2f128 ymm12, ymm0, ymm1, 0b00100010
vperm2f128 ymm13, ymm0, ymm1, 0b00110010
vperm2f128 ymm14, ymm0, ymm1, 0b00000011
vperm2f128 ymm15, ymm0, ymm1, 0b00010011
vperm2f128 ymm1, ymm0, ymm1, 0b00100011
vperm2f128 ymm0, ymm0, [rdx + 32], 0b00110011


hlt

align 32
.data:
dq 0x3FF0000000000000
dq 0xEEEEEEEEEEEEEEEE
dq 0xFFFFFFFFFFFFFFFF
dq 0xAAAAAAAAAAAAAAAA

dq 0xBBBBBBBBBBBBBBBB
dq 0xDDDDDDDDDDDDDDDD
dq 0xCCCCCCCCCCCCCCCC
dq 0x9999999999999999
