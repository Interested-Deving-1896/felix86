%ifdef CONFIG
{
  "HostFeatures": ["AVX"],
  "RegData": {
    "XMM2": ["0x0000000000000000", "0x0000000000000000", "0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE"],
    "XMM3": ["0x0000000000000000", "0x0000000000000000", "0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA"],
    "XMM4": ["0x0000000000000000", "0x0000000000000000", "0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD"],
    "XMM5": ["0x0000000000000000", "0x0000000000000000", "0xCCCCCCCCCCCCCCCC", "0x9999999999999999"],
    "XMM6": ["0x0000000000000000", "0x0000000000000000", "0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE"],
    "XMM7": ["0x0000000000000000", "0x0000000000000000", "0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA"],
    "XMM8": ["0x0000000000000000", "0x0000000000000000", "0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD"],
    "XMM9": ["0x0000000000000000", "0x0000000000000000", "0xCCCCCCCCCCCCCCCC", "0x9999999999999999"],
    "XMM10": ["0x0000000000000000", "0x0000000000000000", "0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE"],
    "XMM11": ["0x0000000000000000", "0x0000000000000000", "0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA"],
    "XMM12": ["0x0000000000000000", "0x0000000000000000", "0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD"],
    "XMM13": ["0x0000000000000000", "0x0000000000000000", "0xCCCCCCCCCCCCCCCC", "0x9999999999999999"],
    "XMM14": ["0x0000000000000000", "0x0000000000000000", "0x3FF0000000000000", "0xEEEEEEEEEEEEEEEE"],
    "XMM15": ["0x0000000000000000", "0x0000000000000000", "0xFFFFFFFFFFFFFFFF", "0xAAAAAAAAAAAAAAAA"],
    "XMM1": ["0x0000000000000000", "0x0000000000000000", "0xBBBBBBBBBBBBBBBB", "0xDDDDDDDDDDDDDDDD"],
    "XMM0": ["0x0000000000000000", "0x0000000000000000", "0xCCCCCCCCCCCCCCCC", "0x9999999999999999"]
  },
  "MemoryRegions": {
    "0x100000000": "4096"
  }
}
%endif
bits 64

lea rdx, [rel .data]

vmovapd ymm0, [rdx]
vmovapd ymm1, [rdx + 32]

vperm2f128 ymm2, ymm0, ymm1, 0b00001000
vperm2f128 ymm3, ymm0, ymm1, 0b00011000
vperm2f128 ymm4, ymm0, ymm1, 0b00101000
vperm2f128 ymm5, ymm0, ymm1, 0b00111000
vperm2f128 ymm6, ymm0, ymm1, 0b00001001
vperm2f128 ymm7, ymm0, ymm1, 0b00011001
vperm2f128 ymm8, ymm0, ymm1, 0b00101001
vperm2f128 ymm9, ymm0, ymm1, 0b00111001
vperm2f128 ymm10, ymm0, ymm1, 0b00001010
vperm2f128 ymm11, ymm0, ymm1, 0b00011010
vperm2f128 ymm12, ymm0, ymm1, 0b00101010
vperm2f128 ymm13, ymm0, ymm1, 0b00111010
vperm2f128 ymm14, ymm0, ymm1, 0b00001011
vperm2f128 ymm15, ymm0, ymm1, 0b00011011
vperm2f128 ymm1, ymm0, ymm1, 0b00101011
vperm2f128 ymm0, ymm0, [rdx + 32], 0b00111011


hlt

align 32
.data:
dq 0x3FF0000000000000
dq 0xEEEEEEEEEEEEEEEE
dq 0xFFFFFFFFFFFFFFFF
dq 0xAAAAAAAAAAAAAAAA

dq 0xBBBBBBBBBBBBBBBB
dq 0xDDDDDDDDDDDDDDDD
dq 0xCCCCCCCCCCCCCCCC
dq 0x9999999999999999
